{"version":3,"sources":["webpack:///./src/components/MessageArea/index.vue?e30a","webpack:///./src/components/MessageArea/MessageAreaForm.vue?65b7","webpack:///src/components/MessageArea/MessageAreaForm.vue","webpack:///./src/components/MessageArea/MessageAreaForm.vue?80d3","webpack:///./src/components/MessageArea/MessageAreaForm.vue?6f25","webpack:///./src/components/MessageArea/MessageAreaList.vue?36b9","webpack:///src/components/MessageArea/MessageAreaList.vue","webpack:///./src/components/MessageArea/MessageAreaList.vue?63b3","webpack:///./src/components/MessageArea/MessageAreaList.vue?b34f","webpack:///src/components/MessageArea/index.vue","webpack:///./src/components/MessageArea/index.vue?260e","webpack:///./src/components/MessageArea/index.vue?a105","webpack:///./src/components/MessageArea/index.vue?f2b4","webpack:///./src/views/Message/index.vue?0974","webpack:///src/views/Message/index.vue","webpack:///./src/views/Message/index.vue?4bed","webpack:///./src/views/Message/index.vue?1d27","webpack:///./src/components/MessageArea/MessageAreaForm.vue?578d","webpack:///./src/views/Message/index.vue?fe20","webpack:///./src/mixins/fetchData.js","webpack:///./src/mixins/mainScroll.js","webpack:///./src/components/MessageArea/MessageAreaList.vue?9751"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_g","$listeners","_v","_s","title","subTitle","attrs","list","directives","name","rawName","value","expression","staticRenderFns","ref","on","$event","preventDefault","hanleSubmit","formData","domProps","target","composing","$set","nickName","length","error","content","isSumbiting","data","methods","$emit","successmsg","type","container","callback","component","_l","item","key","id","avatar","nickname","formatDate","createDate","components","Avatar","props","Array","default","MessageAreaForm","MessageAreaList","String","isListLoading","Boolean","rows","hanldSubmit","_e","mixins","page","limit","MessageArea","created","$bus","$on","hanldScroll","computed","dataLoaded","total","loadingShow","dom","des","rang","fetchMore","dataDefaultValue","fetchData","vaule","handleScroll","$refs","handleScrollTop","newScrollTop","scrollTop","mounted","addEventListener","beforeDestroy","removeEventListener","$off"],"mappings":"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","file":"js/chunk-dc5a844e.ea8a74e5.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\"},[_c('MessageAreaForm',_vm._g({},_vm.$listeners)),_c('h3',[_vm._v(\" \"+_vm._s(_vm.title)+\" \"),_c('span',[_vm._v(_vm._s(_vm.subTitle))])]),_c('MessageAreaList',{attrs:{\"list\":_vm.list}}),_c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.isListLoading),expression:\"isListLoading\"}],staticClass:\"loading\"})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('form',{ref:\"form\",staticClass:\"message-areaForm-container\",attrs:{\"id\":\"slb\"},on:{\"submit\":function($event){$event.preventDefault();return _vm.hanleSubmit($event)}}},[_c('div',{staticClass:\"message-areaForm-Input\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.formData.nickName),expression:\"formData.nickName\"}],attrs:{\"type\":\"text\",\"placeholder\":\"用户名称\",\"maxlength\":\"10\"},domProps:{\"value\":(_vm.formData.nickName)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.formData, \"nickName\", $event.target.value)}}}),_c('span',{staticClass:\"abs\"},[_vm._v(_vm._s(_vm.formData.nickName.length)+\"/10\")])]),_c('div',{staticClass:\"error\"},[_vm._v(_vm._s(_vm.error.nickName))]),_c('div',{staticClass:\"message-areaForm-textarea\"},[_c('textarea',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.formData.content),expression:\"formData.content\"}],attrs:{\"placeholder\":\"输入内容\",\"maxlength\":\"300\"},domProps:{\"value\":(_vm.formData.content)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.formData, \"content\", $event.target.value)}}}),_c('span',{staticClass:\"abs\"},[_vm._v(_vm._s(_vm.formData.content.length)+\"/300\")])]),_c('div',{staticClass:\"error\"},[_vm._v(_vm._s(_vm.error.content))]),_c('div',{staticClass:\"button\"},[_c('button',{attrs:{\"type\":\"submit\",\"disabled\":_vm.isSumbiting}},[_vm._v(\" \"+_vm._s(_vm.isSumbiting ? \"提交中...\" : \"提交\")+\" \")])])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\n * @Author: your name\n * @Date: 2021-06-08 21:03:25\n * @LastEditTime: 2021-07-04 12:58:33\n * @LastEditors: Please set LastEditors\n * @Description: In User Settings Edit\n * @FilePath: /袁老师Vue核心/Users/javascript/Desktop/技术/渡一教育/JavaScript/Vue2袁老师/组件练习/my-site/src/components/MessageArea/Form.vue\n-->\n<template>\n  <form\n    ref=\"form\"\n    class=\"message-areaForm-container\"\n    @submit.prevent=\"hanleSubmit\"\n    id=\"slb\"\n  >\n    <div class=\"message-areaForm-Input\">\n      <input\n        type=\"text\"\n        v-model=\"formData.nickName\"\n        placeholder=\"用户名称\"\n        maxlength=\"10\"\n      />\n      <span class=\"abs\">{{ formData.nickName.length }}/10</span>\n      <!-- 直接读取formData.nickName.length的长度 -->\n    </div>\n    <div class=\"error\">{{ error.nickName }}</div>\n\n    <div class=\"message-areaForm-textarea\">\n      <textarea\n        v-model=\"formData.content\"\n        placeholder=\"输入内容\"\n        maxlength=\"300\"\n      ></textarea>\n      <span class=\"abs\">{{ formData.content.length }}/300</span>\n    </div>\n    <div class=\"error\">{{ error.content }}</div>\n\n    <div class=\"button\">\n      <button type=\"submit\" :disabled=\"isSumbiting\">\n        {{ isSumbiting ? \"提交中...\" : \"提交\" }}\n      </button>\n    </div>\n  </form>\n</template>\n\n<script>\nimport showMessage from \"../../utils/showMessage\";\nexport default {\n  data() {\n    return {\n      isSumbiting: false,\n      formData: {\n        nickName: \"\",\n        content: \"\",\n        //昵称的错误消息\n      },\n      error: {\n        nickName: \"\",\n        content: \"\",\n        //error的错误消息\n      },\n    };\n  },\n  methods: {\n    hanleSubmit() {\n      this.error.nickName = this.formData.nickName ? \"\" : \"请填写昵称!\";\n      this.error.content = this.formData.content ? \"\" : \"请填写内容!\";\n      //在vue中开发，就是要观察数据，\n      //上面通过三目运算符进行计算，如果当前昵称，那么设置为\"请填写昵称!\"否则的话，为空字符串\n      //内容也是一样\n\n      if (this.error.nickName || this.error.content) {\n        //假设错误里面有内容，则不做任何处理\n        return;\n      }\n      /**\n       * 如果没有错误，则进行下面操作\n       */\n      this.isSumbiting = true;\n      //1.将当前按钮状态设为true，true === 当前正在提交中\n      this.$emit(\"submit\", this.formData, (successmsg) => {\n        /**然后抛出事件，把表单里面的数据当作参数传过去，\n         * 第一个参数 type String 事件类型\n         * 第二个参数 type data   input里面的value\n         * 第三个参数 type callback  外部注册submit事件时，允许有一个回调，参数是一个String\n         */\n        showMessage({\n          content: successmsg,\n          //提示文字\n          type: \"success\",\n          container: this.$refs.form,\n          callback: () => {\n            this.isSumbiting = false;\n            this.formData.nickName = \"\";\n            this.formData.content = \"\";\n          },\n        });\n      });\n    },\n  },\n};\n</script>\n\n<style lang=\"less\" scoped>\n@import \"../../styles/var.less\";\n.message-areaForm-container {\n  margin-top: 40px;\n  .error {\n    color: @warn;\n    font-size: 16px;\n    margin: 10px 0;\n    height: 40px;\n    line-height: 40px;\n  }\n  .button {\n    button[type=\"submit\"] {\n      outline: none;\n      padding: 8px 27px;\n      border: none;\n      color: @fff;\n      background: @primary;\n      border-radius: 10px;\n      cursor: pointer;\n      transition: 0.3s;\n      &:hover {\n        background: rgb(56, 161, 96);\n        transform: scale(1.2);\n      }\n      &:disabled {\n        cursor: not-allowed;\n        background: @gray;\n      }\n    }\n  }\n  .message-areaForm-Input input,\n  .message-areaForm-textarea textarea {\n    position: relative;\n    width: 100%;\n    outline: none;\n    border-radius: 10px;\n    padding: 15px 0 15px 5px;\n    border: 1px dashed rgb(116, 136, 224);\n    &:focus {\n      border-color: rgb(240, 43, 207);\n    }\n  }\n  .message-areaForm-textarea {\n    width: 100%;\n    position: relative;\n    textarea {\n      height: 150px;\n    }\n  }\n  .message-areaForm-Input {\n    width: 300px;\n    position: relative;\n  }\n}\n.abs {\n  position: absolute;\n  bottom: 5px;\n  right: 5px;\n  font-size: 12px;\n  color: @gray;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MessageAreaForm.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MessageAreaForm.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MessageAreaForm.vue?vue&type=template&id=70865736&scoped=true&\"\nimport script from \"./MessageAreaForm.vue?vue&type=script&lang=js&\"\nexport * from \"./MessageAreaForm.vue?vue&type=script&lang=js&\"\nimport style0 from \"./MessageAreaForm.vue?vue&type=style&index=0&id=70865736&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"70865736\",\n  null\n  \n)\n\nexport default component.exports","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"message-area-List-container\"},[_c('ul',_vm._l((_vm.list),function(item){return _c('li',{key:item.id,staticClass:\"message-area-List\"},[_c('div',{staticClass:\"message-area-list-left\"},[_c('Avatar',{attrs:{\"url\":item.avatar,\"size\":60}})],1),_c('div',{staticClass:\"message-area-list-right\"},[_c('h3',[_vm._v(_vm._s(item.nickname))]),_c('p',[_vm._v(_vm._s(item.content))]),_c('div',{staticClass:\"time\"},[_vm._v(_vm._s(_vm.formatDate(item.createDate, true)))])])])}),0)])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\n * @Author: your name\n * @Date: 2021-06-08 21:03:55\n * @LastEditTime: 2021-06-14 14:44:51\n * @LastEditors: Please set LastEditors\n * @Description: In User Settings Edit\n * @FilePath: /袁老师Vue核心/Users/javascript/Desktop/技术/渡一教育/JavaScript/Vue2袁老师/组件练习/my-site/src/components/MessageArea/MessageAreaList.vue\n-->\n<template>\n  <div class=\"message-area-List-container\">\n    <ul>\n      <li class=\"message-area-List\" v-for=\"item in list\" :key=\"item.id\">\n        <div class=\"message-area-list-left\">\n          <Avatar :url=\"item.avatar\" :size=\"60\" />\n        </div>\n        <div class=\"message-area-list-right\">\n          <h3>{{ item.nickname }}</h3>\n          <p>{{ item.content }}</p>\n          <div class=\"time\">{{ formatDate(item.createDate, true) }}</div>\n        </div>\n      </li>\n    </ul>\n  </div>\n</template>\n\n<script>\nimport Avatar from \"../SizeAside/Avatar/index.vue\";\nimport formatDate from \"../../utils/formatDate\";\nexport default {\n  components: {\n    Avatar,\n  },\n  props: {\n    list: {\n      type: Array,\n      default: () => [],\n    },\n  },\n  methods: {\n    formatDate,\n  },\n};\n</script>\n\n<style lang=\"less\" scoped>\n* {\n  list-style-type: none;\n}\n.message-area-List-container {\n  position: relative;\n  margin: 20px 0;\n  .message-area-List {\n    padding: 10px 0 15px 0;\n    flex: 1 1 auto;\n    position: relative;\n    display: flex;\n    border-bottom: 1px dotted rgba(117, 110, 110, 0.568);\n    .message-area-list-left {\n      margin-right: 10px;\n      padding: 0;\n    }\n    .img-container {\n      padding: 0;\n    }\n    .message-area-list-right {\n      margin-top: 10px;\n\n      h3 {\n        // width: 40px;\n\n        margin-bottom: 10px;\n        color: rgb(125, 187, 138);\n        cursor: pointer;\n        transition: 0.3s;\n        &:hover {\n          color: rgb(97, 137, 189);\n        }\n      }\n    }\n  }\n}\n.time {\n  position: absolute;\n  right: 5px;\n  top: 5px;\n  font-size: 13px;\n  color: rgba(150, 140, 137, 0.486);\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MessageAreaList.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MessageAreaList.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./MessageAreaList.vue?vue&type=template&id=5dbf0338&scoped=true&\"\nimport script from \"./MessageAreaList.vue?vue&type=script&lang=js&\"\nexport * from \"./MessageAreaList.vue?vue&type=script&lang=js&\"\nimport style0 from \"./MessageAreaList.vue?vue&type=style&index=0&id=5dbf0338&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"5dbf0338\",\n  null\n  \n)\n\nexport default component.exports","<!--\n * @Author: your name\n * @Date: 2021-06-08 21:03:30\n * @LastEditTime: 2021-07-04 14:03:01\n * @LastEditors: Please set LastEditors\n * @Description: In User Settings Edit\n * @FilePath: /袁老师Vue核心/Users/javascript/Desktop/技术/渡一教育/JavaScript/Vue2袁老师/组件练习/my-site/src/components/MessageArea/index.vue\n-->\n<template>\n  <div class=\"container\">\n    <MessageAreaForm v-on=\"$listeners\" />\n    <h3>\n      {{ title }}\n      <span>{{ subTitle }}</span>\n    </h3>\n    <MessageAreaList :list=\"list\" />\n    <div class=\"loading\" v-loading=\"isListLoading\"></div>\n  </div>\n</template>\n\n<script>\nimport MessageAreaForm from \"./MessageAreaForm\";\nimport MessageAreaList from \"./MessageAreaList.vue\";\nexport default {\n  components: {\n    MessageAreaForm,\n    MessageAreaList,\n  },\n  props: {\n    title: {\n      type: String,\n      default: \"\",\n    },\n    subTitle: {\n      type: String,\n      default: \"\",\n    },\n    list: {\n      type: Array,\n      default: () => [],\n    },\n    isListLoading: {\n      type: Boolean,\n      default: false,\n    },\n  },\n};\n</script>\n\n<style lang=\"less\" scoped>\n.container {\n  h3 {\n    margin-top: 40px;\n  }\n  .loading {\n    position: relative;\n    height: 50px;\n    display: flex;\n    align-items: center;\n  }\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=0f71626e&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=0f71626e&lang=less&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0f71626e\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=0f71626e&lang=less&scoped=true&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{directives:[{name:\"loading\",rawName:\"v-loading\",value:(_vm.loadingShow),expression:\"loadingShow\"}],ref:\"messageContainer\",staticClass:\"message-container\"},[(_vm.data)?[_c('MessageArea',{attrs:{\"list\":_vm.data.rows,\"title\":\"评论列表\",\"subTitle\":(\"(\" + (_vm.data.total) + \")\")},on:{\"submit\":_vm.hanldSubmit}})]:_vm._e()],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<!--\n * @Author: your name\n * @Date: 2021-05-09 21:06:13\n * @LastEditTime: 2021-07-04 21:19:03\n * @LastEditors: Please set LastEditors\n * @Description: In User Settings Edit\n * @FilePath: /Vue2袁老师/组件练习/my-size/src/views/message/index.vue\n-->\n<template>\n  <div class=\"message-container\" v-loading=\"loadingShow\" ref=\"messageContainer\">\n    <template v-if=\"data\">\n      <MessageArea\n        :list=\"data.rows\"\n        title=\"评论列表\"\n        :subTitle=\"`(${data.total})`\"\n        @submit=\"hanldSubmit\"\n      />\n    </template>\n  </div>\n</template>\n\n<script>\nimport MessageArea from \"../../components/MessageArea\";\nimport { getMessage, postComment } from \"../../../api/blog\";\nimport fetchData from \"../../mixins/fetchData\";\nimport mainScroll from \"../../mixins/mainScroll\";\nexport default {\n  mixins: [fetchData(null), mainScroll(\"messageContainer\")],\n  data() {\n    return {\n      page: 1,\n      limit: 10,\n    };\n  },\n  components: {\n    MessageArea,\n  },\n  created() {\n    this.$bus.$on(\"mainScroll\", this.hanldScroll);\n  },\n  computed: {\n    dataLoaded() {\n      return this.data.rows.length < this.data.total;\n    },\n  },\n  methods: {\n    async fetchData() {\n      return await getMessage(this.$route.params.id, this.page, this.limit);\n    },\n    /**\n     * messageArea组件传递过来的input的value数据\n     */\n    async hanldSubmit(fetchData, callback) {\n      const resp = await postComment();\n      this.data.rows.unshift(resp);\n      this.data.total++;\n      callback(\"评论成功!\");\n    },\n    async fetchMore() {\n      if (!this.dataLoaded) {\n        return;\n      }\n      this.loadingShow = true;\n      const resp = await this.fetchData();\n      this.data.total = resp.total;\n      this.data.rows = this.data.rows.concat(resp.rows);\n      this.loadingShow = false;\n    },\n    hanldScroll(dom) {\n      if (this.loadingShow || !dom) {\n        return;\n      }\n      const rang = 100;\n      const des = Math.abs(dom.clientHeight + dom.scrollTop - dom.scrollHeight);\n      if (des <= rang) {\n        this.fetchMore();\n      }\n    },\n  },\n};\n</script>\n\n<style scoped lang=\"less\">\n.message-container {\n  overflow: auto;\n  position: relative;\n  padding: 20px 100px;\n  height: 100%;\n  box-sizing: border-box;\n  scroll-behavior: smooth;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=4dd04290&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=4dd04290&scoped=true&lang=less&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4dd04290\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MessageAreaForm.vue?vue&type=style&index=0&id=70865736&lang=less&scoped=true&\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=4dd04290&scoped=true&lang=less&\"","/*\n * @Author: your name\n * @Date: 2021-05-22 20:32:35\n * @LastEditTime: 2021-06-17 14:54:54\n * @LastEditors: Please set LastEditors\n * @Description: In User Settings Edit\n * @FilePath: /袁老师Vue核心/Users/javascript/Desktop/技术/渡一教育/JavaScript/Vue2袁老师/组件练习/my-site/src/mixins/mixins.js\n */\n\nexport default function (dataDefaultValue = null) {\n    return {\n        data() {\n            return {\n                loadingShow: true,\n                data: dataDefaultValue,\n            }\n        },\n        async created() {\n            this.data = await this.fetchData();\n            this.loadingShow = false;\n            //异步获取数据，这是语法糖，\n            //this.banners = await getBanners() === getBanners().then((r)=>{ this.banners = r});\n        },\n    }\n}","/*\n * @Author: your name\n * @Date: 2021-06-17 15:54:24\n * @LastEditTime: 2021-07-04 13:13:00\n * @LastEditors: Please set LastEditors\n * @Description: In User Settings Edit\n * @FilePath: /袁老师Vue核心/Users/javascript/Desktop/技术/渡一教育/JavaScript/Vue2袁老师/组件练习/my-site copy/src/mixins/mainScroll.JS\n */\n/**\n * 调用该函数，返回一个配置对象\n * @param vaule 需要传递进来的dom元素\n * @returns \n */\nexport default function (vaule) {\n    return {\n        methods: {\n            handleScroll() {\n                this.$bus.$emit(\"mainScroll\", this.$refs[vaule]);\n            },\n            handleScrollTop(newScrollTop) {\n                this.$refs[vaule].scrollTop = newScrollTop;\n            },\n        },\n        mounted() {\n            this.$bus.$on(\"mainScrollTop\", this.handleScrollTop);\n            this.$refs[vaule].addEventListener(\"scroll\", this.handleScroll);\n        },\n        beforeDestroy() {\n            this.$bus.$emit(\"mainScroll\");\n            //当切换组件时，假设ToTop组件中的show值 === true，\n            //那么切换到其他组件时，由于没有重新触发setSelect事件，并且该事件已经被销毁了，所以\n            this.$refs[vaule].removeEventListener(\n                \"scroll\",\n                this.handleScroll\n            );\n            this.$bus.$off(\"mainScrollTop\", this.handleScrollTop);\n        },\n    }\n}","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--10-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--10-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--10-oneOf-1-2!../../../node_modules/less-loader/dist/cjs.js??ref--10-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./MessageAreaList.vue?vue&type=style&index=0&id=5dbf0338&lang=less&scoped=true&\""],"sourceRoot":""}